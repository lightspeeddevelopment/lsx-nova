var lsx=Object.create(null);!function(o,e,t,n){"use strict";var s=o(t),r=o(e),a=e.innerHeight||t.documentElement.clientHeight||t.body.clientHeight,i=e.innerWidth||t.documentElement.clientWidth||t.body.clientWidth;lsx.add_class_browser_to_html=function(){if("undefined"!=typeof platform){var e=platform.name.toLowerCase(),t=platform.version.toLowerCase().replace(/\..*$/g,"");o("html").addClass(e).addClass(t)}},lsx.add_class_sidebar_to_body=function(){o("#secondary").length>0&&o("body").addClass("has-sidebar")},lsx.add_class_bootstrap_to_table=function(){var e=o("table#wp-calendar");e.length>0&&e.addClass("table")},lsx.navbar_toggle_handler=function(){o(".navbar-toggle").parent().on("click",function(){o(this).toggleClass("open")})},lsx.fix_bootstrap_menus_dropdown=function(){o(".navbar-nav .dropdown, #top-menu .dropdown").on("show.bs.dropdown",function(){i<1200&&(o(this).siblings(".open").removeClass("open").find("a.dropdown-toggle").attr("data-toggle","dropdown"),o(this).find("a.dropdown-toggle").removeAttr("data-toggle"))}),i>1199&&o(".navbar-nav li.dropdown a, #top-menu li.dropdown a").each(function(){o(this).removeClass("dropdown-toggle"),o(this).removeAttr("data-toggle")}),r.resize(function(){i>1199?o(".navbar-nav li.dropdown a, #top-menu li.dropdown a").each(function(){o(this).removeClass("dropdown-toggle"),o(this).removeAttr("data-toggle")}):o(".navbar-nav li.dropdown a, #top-menu li.dropdown a").each(function(){o(this).addClass("dropdown-toggle"),o(this).attr("data-toggle","dropdown")})})},lsx.fix_bootstrap_menus_dropdown_click=function(){i<1200&&(o(".navbar-nav .dropdown .dropdown > a, #top-menu .dropdown .dropdown > a").on("click",function(e){o(this).parent().hasClass("open")||(o(this).parent().addClass("open"),o(this).next(".dropdown-menu").dropdown("toggle"),e.stopPropagation(),e.preventDefault())}),o(".navbar-nav .dropdown .dropdown .dropdown-menu a, #top-menu .dropdown .dropdown > a").on("click",function(o){t.location.href=this.href}))},lsx.fix_lazyload_envira_gallery=function(){o(".lazyload, .lazyloaded").length>0&&"object"==typeof envira_isotopes&&r.scroll(function(){o(".envira-gallery-wrap").each(function(){var e=o(this).attr("id");e=e.replace("envira-gallery-wrap-",""),"object"==typeof envira_isotopes[e]&&envira_isotopes[e].enviratope("layout")})})},lsx.set_main_menu_as_fixed=function(){i>1199&&o("body").hasClass("top-menu-fixed")&&o("header.navbar").scrollToFixed({marginTop:function(){var e=o("#wpadminbar");return e.length>0?e.outerHeight():0},minWidth:768,preFixed:function(){o(this).addClass("scrolled")},preUnfixed:function(){o(this).removeClass("scrolled")}})},lsx.set_banner_effect_parallax=function(){var e,t,n,s=function(){if(r.scrollTop()<=n){var o=r.scrollTop()/n*100,e=-40+o,s=-40-o;t.css({top:e+"px",bottom:s+"px"})}};i>1199&&(e=o(".page-banner:not(.gmap-banner)"),e.length>0&&(n=e.height()+e.offset().top,t=e.children(".page-banner-image"),t.length>0&&(s(),r.scroll(function(){s()}))))},lsx.set_search_form_effect_mobile=function(){s.on("click","header.navbar #searchform button.search-submit",function(e){if(i<1200){e.preventDefault();var t=o(this).closest("form");t.hasClass("hover")?t.submit():(t.addClass("hover"),t.find(".search-field").focus())}}),s.on("blur","header.navbar #searchform .search-field",function(e){if(i<1200){o(this).closest("form").removeClass("hover")}})},lsx.search_form_prevent_empty_submissions=function(){s.on("submit","#searchform",function(e){""===o(this).find('input[name="s"]').val()&&e.preventDefault()}),s.on("blur","header.navbar #searchform .search-field",function(e){if(i<1200){o(this).closest("form").removeClass("hover")}})},lsx.build_slider_lightbox=function(){o("body:not(.single-tour-operator) .gallery").slickLightbox({caption:function(e,t){return o(e).find("img").attr("alt")}})},lsx.init_wc_slider=function(){o(".lsx-woocommerce-slider").each(function(e,t){var n=o(this),s=4,r=4,a=3,i=3;n.find(".lsx-woocommerce-review-slot").length>0&&(s=2,r=2,a=2,i=2),n.closest("#secondary").length>0&&(s=1,r=1,a=1,i=1),n.on("init",function(o,e){e.options.arrows&&e.slideCount>e.options.slidesToShow&&n.addClass("slick-has-arrows")}),n.on("setPosition",function(o,e){e.options.arrows?e.slideCount>e.options.slidesToShow&&n.addClass("slick-has-arrows"):n.removeClass("slick-has-arrows")}),n.slick({draggable:!1,infinite:!0,swipe:!1,cssEase:"ease-out",dots:!0,slidesToShow:s,slidesToScroll:r,responsive:[{breakpoint:992,settings:{slidesToShow:a,slidesToScroll:i,draggable:!0,arrows:!1,swipe:!0}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1,draggable:!0,arrows:!1,swipe:!0}}]})}),o('a[href="#tab-bundled_products"]').length>0&&s.on("click",'a[href="#tab-bundled_products"]',function(e){o("#tab-bundled_products .lsx-woocommerce-slider").slick("setPosition")})},lsx.remove_gallery_img_width_height=function(){o(".gallery-size-full img").each(function(){var e=o(this);e.removeAttr("height"),e.removeAttr("width")})},lsx.do_scroll=function(e){var t=e.href.replace(/^[^#]*(#.+$)/gi,"$1"),n=o(t),s=parseInt(n.offset().top);o("html, body").animate({scrollTop:s+-100},800)},lsx.fix_wc_elements=function(e){o(".woocommerce-MyAccount-content .api-manager-changelog, .woocommerce-MyAccount-content .api-manager-download").each(function(){var e=o(this);e.children("br:first-child").remove(),e.children("hr:first-child").remove(),e.children("hr:last-child").remove(),e.children("br:last-child").remove()}),o(".woocommerce-form__label-for-checkbox.checkbox").removeClass("checkbox"),o(t.body).on("updated_checkout",function(){o(".woocommerce-form__label-for-checkbox.checkbox").removeClass("checkbox")})},lsx.fix_caldera_form_modal_title=function(){o("[data-remodal-id]").each(function(){var e=o(this),t=o('[data-remodal-target="'+e.attr("id")+'"]'),n=t.text();e.find('[role="field"]').first().before("<div><h4>"+n+"</h4></div>")})},lsx.wc_footer_bar_toggle_handler=function(){o(".lsx-wc-footer-bar-link-toogle").on("click",function(e){e.preventDefault(),o(".lsx-wc-footer-bar-form").slideToggle(),o(".lsx-wc-footer-bar").toggleClass("lsx-wc-footer-bar-search-on")})},lsx.wc_fix_messages_visual=function(){o(".woocommerce-message,.woocommerce-info,.woocommerce-error,.woocommerce-noreviews,.woocommerce_message,.woocommerce_info,.woocommerce_error,.woocommerce_noreviews,p.no-comments,.stock,.woocommerce-password-strength").each(function(){var e=o(this);0!==e.find(".button").length&&(e.wrapInner('<div class="lsx-woocommerce-message-text"></div>'),e.addClass("lsx-woocommerce-message-wrap"),e.find(".button").appendTo(e))})},lsx.wc_fix_subscribe_to_replies_checkbox=function(){o('input[name="subscribe_to_replies"]').removeClass("form-control")},lsx.wc_add_quick_view_close_button=function(){o("body").on("quick-view-displayed",function(e){0===o(".pp_content_container").children(".close").length&&o(".pp_content_container").prepend('<button type="button" class="close">&times;</button>')}),s.on("click",".pp_content_container .close",function(e){o.prettyPhoto.close()})},lsx.wc_fix_subscriptions_empty_message=function(){""===o(".first-payment-date").text()&&o(".first-payment-date").remove()},r.resize(function(){a=e.innerHeight||t.documentElement.clientHeight||t.body.clientHeight,i=e.innerWidth||t.documentElement.clientWidth||t.body.clientWidth}),s.ready(function(){lsx.navbar_toggle_handler(),lsx.add_class_browser_to_html(),lsx.add_class_sidebar_to_body(),lsx.add_class_bootstrap_to_table(),lsx.set_main_menu_as_fixed(),lsx.search_form_prevent_empty_submissions(),lsx.remove_gallery_img_width_height(),lsx.init_wc_slider(),lsx.fix_wc_elements(),lsx.fix_caldera_form_modal_title(),lsx.wc_footer_bar_toggle_handler(),lsx.wc_fix_messages_visual(),lsx.wc_fix_subscribe_to_replies_checkbox(),lsx.wc_add_quick_view_close_button(),lsx.wc_fix_subscriptions_empty_message()}),r.load(function(){lsx.fix_bootstrap_menus_dropdown(),lsx.fix_bootstrap_menus_dropdown_click(),lsx.fix_lazyload_envira_gallery(),lsx.set_search_form_effect_mobile(),lsx.build_slider_lightbox(),lsx.set_banner_effect_parallax(),o("body.preloader-content-enable").addClass("html-loaded")})}(jQuery,window,document);